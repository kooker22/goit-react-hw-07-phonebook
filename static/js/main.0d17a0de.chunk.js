(this["webpackJsonpgoit-react-hw-07-phonebook"]=this["webpackJsonpgoit-react-hw-07-phonebook"]||[]).push([[0],{10:function(t,e,n){t.exports={form:"Form_form__LsaKf",label:"Form_label__21vNY",inputWrapper:"Form_inputWrapper__1DwDZ",buttonForm:"Form_buttonForm__44xMD",input:"Form_input__mhq00"}},17:function(t,e,n){t.exports={button:"ContactListItem_button__1RaJH",item:"ContactListItem_item__WWIfv",loading:"ContactListItem_loading__1PCC3"}},35:function(t,e,n){t.exports={input:"Filter_input__2qLMy"}},38:function(t,e,n){t.exports=n(70)},70:function(t,e,n){"use strict";n.r(e);var a=n(0),c=n.n(a),r=n(6),o=n.n(r),u=n(13),l=n(14),i=n(16),s=n(15),b=(n(43),n(7)),m=n(3),f=n(18),p=n(5),h=function(t){return t.phonebook.contacts},d=function(t){return t.phonebook.filter},v={getContacts:h,getFilter:d,getLoading:function(t){return t.phonebook.loading},getVisibleContacts:Object(p.a)([h,d],(function(t,e){var n=e.toLowerCase();return t.filter((function(t){return t.name.toLowerCase().includes(n)}))}))},O=n(23),j=n.n(O),g=n(34),C=n(11),E=n.n(C),y=n(1),_=Object(y.b)("contacts/fetchContactsRequest"),k=Object(y.b)("contacts/fetchContactsSuccess"),x=Object(y.b)("contacts/fetchContactsError"),w=Object(y.b)("contacts/addContactSuccess"),F=Object(y.b)("contacts/addContactRequest"),R=Object(y.b)("contacts/addContactError"),N=Object(y.b)("contacts/deleteContactSuccess"),S=Object(y.b)("contacts/deleteContactRequest"),M=Object(y.b)("contacts/deleteContactError"),L=Object(y.b)("phonebook/changeFilter",(function(t){return{payload:t}}));E.a.defaults.baseURL="http://localhost:4040";var z=n(10),H=n.n(z),V=(n(67),function(t){Object(i.a)(n,t);var e=Object(s.a)(n);function n(){var t;Object(u.a)(this,n);for(var a=arguments.length,c=new Array(a),r=0;r<a;r++)c[r]=arguments[r];return(t=e.call.apply(e,[this].concat(c))).state={name:"",number:""},t.handleChange=function(e){var n=e.target,a=n.name,c=n.value;t.setState(Object(m.a)({},a,c))},t.handleSubmit=function(e){var n=t.props.contacts.some((function(e){return e.name===t.state.name}));if(e.preventDefault(),t.state.name&&""!==t.state.number){if(!n)return t.props.onSubmit(t.state),void t.resetForm();Object(f.b)("This contact already exist")}else Object(f.b)("enter name and number")},t.resetForm=function(){t.setState({name:"",number:""})},t}return Object(l.a)(n,[{key:"render",value:function(){var t=this.state,e=t.name,n=t.number;return c.a.createElement(c.a.Fragment,null,c.a.createElement("form",{onSubmit:this.handleSubmit,className:H.a.form},c.a.createElement("div",{className:H.a.inputWrapper},c.a.createElement("label",{className:H.a.label},"Name",c.a.createElement("input",{type:"text",name:"name",value:e,onChange:this.handleChange,className:H.a.input})),c.a.createElement("label",null,"Number",c.a.createElement("input",{type:"tel",name:"number",value:n,onChange:this.handleChange,className:H.a.input}))),c.a.createElement("button",{type:"submit",className:H.a.buttonForm},"add contact")),c.a.createElement(f.a,null))}}]),n}(a.Component)),D=Object(b.b)((function(t){return{contacts:v.getContacts(t)}}),(function(t){return{onSubmit:function(e){return t(function(t){var e=t.name,n=t.number;return function(t){var a={name:e,number:n};t(F()),E.a.post("/contacts",a).then((function(e){var n=e.data;return t(w(n))})).catch((function(e){return t(R(e))}))}}(e))}}}))(V),I=n(17),q=n.n(I);function P(){return(P=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t}).apply(this,arguments)}function W(t,e){if(null==t)return{};var n,a,c=function(t,e){if(null==t)return{};var n,a,c={},r=Object.keys(t);for(a=0;a<r.length;a++)n=r[a],e.indexOf(n)>=0||(c[n]=t[n]);return c}(t,e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);for(a=0;a<r.length;a++)n=r[a],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(c[n]=t[n])}return c}var J,A,B=c.a.createElement("g",{id:"trash"},c.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",fill:"#333333",d:"M29.98,6.819c-0.096-1.57-1.387-2.816-2.98-2.816h-3v-1V3.001 c0-1.657-1.344-3-3-3H11c-1.657,0-3,1.343-3,3v0.001v1H5c-1.595,0-2.885,1.246-2.981,2.816H2v1.183v1c0,1.104,0.896,2,2,2l0,0v17 c0,2.209,1.791,4,4,4h16c2.209,0,4-1.791,4-4v-17l0,0c1.104,0,2-0.896,2-2v-1V6.819H29.98z M10,3.002c0-0.553,0.447-1,1-1h10 c0.553,0,1,0.447,1,1v1H10V3.002z M26,28.002c0,1.102-0.898,2-2,2H8c-1.103,0-2-0.898-2-2v-17h20V28.002z M28,8.001v1H4v-1V7.002 c0-0.553,0.447-1,1-1h22c0.553,0,1,0.447,1,1V8.001z"}),c.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",fill:"#333333",d:"M9,28.006h2c0.553,0,1-0.447,1-1v-13c0-0.553-0.447-1-1-1H9 c-0.553,0-1,0.447-1,1v13C8,27.559,8.447,28.006,9,28.006z M9,14.005h2v13H9V14.005z"}),c.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",fill:"#333333",d:"M15,28.006h2c0.553,0,1-0.447,1-1v-13c0-0.553-0.447-1-1-1h-2 c-0.553,0-1,0.447-1,1v13C14,27.559,14.447,28.006,15,28.006z M15,14.005h2v13h-2V14.005z"}),c.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",fill:"#333333",d:"M21,28.006h2c0.553,0,1-0.447,1-1v-13c0-0.553-0.447-1-1-1h-2 c-0.553,0-1,0.447-1,1v13C20,27.559,20.447,28.006,21,28.006z M21,14.005h2v13h-2V14.005z"})),T=function(t){var e=t.svgRef,n=t.title,a=W(t,["svgRef","title"]);return c.a.createElement("svg",P({id:"Layer_1",x:"0px",y:"0px",width:"13px",height:"13px",viewBox:"0 0 32 32",ref:e},a),n?c.a.createElement("title",null,n):null,B)},K=c.a.forwardRef((function(t,e){return c.a.createElement(T,P({svgRef:e},t))})),U=(n.p,Object(b.b)((function(t){return{contacts:v.getVisibleContacts(t),isLoadingContacts:v.getLoading(t)}}),(function(t){return{onDelete:function(e){return t(function(t){return function(e){e(S()),E.a.delete("/contacts/".concat(t)).then((function(){return e(N(t))})).catch((function(t){return e(M(t))}))}}(e))}}}))((function(t){var e=t.contacts,n=t.onDelete,a=t.isLoadingContacts;return c.a.createElement(c.a.Fragment,null,e.map((function(t){var e=t.id,a=t.name,r=t.number;return c.a.createElement("li",{className:q.a.item,key:e},a,": ",r,c.a.createElement("button",{type:"button",className:q.a.button,id:e,onClick:function(){return n(e)}},c.a.createElement(K,null)))})),a&&c.a.createElement("h1",{className:q.a.loading},"\u0417\u0430\u0433\u0440\u0443\u0436\u0430\u0435\u043c..."))}))),Y=function(){return c.a.createElement("ul",null,c.a.createElement(U,null))},Z=n(35),G=n.n(Z),Q=Object(b.b)((function(t){return{value:v.getFilter(t),contacts:v.getContacts(t)}}),(function(t){return{onChange:function(e){return t(L(e.target.value))}}}))((function(t){var e=t.value,n=t.contacts,a=t.onChange;return n.length>2&&c.a.createElement("label",null,"Contact Filter",c.a.createElement("input",{className:G.a.input,type:"text",value:e,onChange:a}))})),X=function(t){Object(i.a)(n,t);var e=Object(s.a)(n);function n(){return Object(u.a)(this,n),e.apply(this,arguments)}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.props.fetchContacts()}},{key:"render",value:function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"container"},c.a.createElement("h1",{className:"contents"},"Phonebook"),c.a.createElement("div",{className:"wrapper"},c.a.createElement(D,{onSubmit:this.formSubmitHandler}),c.a.createElement(Q,null)),c.a.createElement(Y,null)))}}]),n}(a.Component),$=Object(b.b)(null,(function(t){return{fetchContacts:function(){return t(function(){var t=Object(g.a)(j.a.mark((function t(e){var n,a;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(_()),t.prev=1,t.next=4,E.a.get("/contacts");case 4:n=t.sent,a=n.data,e(k(a)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),e(x(t.t0));case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}())}}}))(X),tt=n(9),et=n(36),nt=n.n(et),at=n(37),ct=n(2),rt=Object(y.c)([],(J={},Object(m.a)(J,k,(function(t,e){return e.payload})),Object(m.a)(J,w,(function(t,e){var n=e.payload;return[].concat(Object(at.a)(t),[n])})),Object(m.a)(J,N,(function(t,e){var n=e.payload;return t.filter((function(t){return t.id!==n}))})),J)),ot=Object(y.c)("",Object(m.a)({},L,(function(t,e){return e.payload}))),ut=Object(y.c)(!1,(A={},Object(m.a)(A,_,(function(){return!0})),Object(m.a)(A,k,(function(){return!1})),Object(m.a)(A,x,(function(){return!1})),Object(m.a)(A,F,(function(){return!0})),Object(m.a)(A,w,(function(){return!1})),Object(m.a)(A,R,(function(){return!1})),Object(m.a)(A,S,(function(){return!0})),Object(m.a)(A,N,(function(){return!1})),Object(m.a)(A,M,(function(){return!1})),A)),lt=Object(y.c)(null,{}),it=Object(ct.c)({contacts:rt,filter:ot,loading:ut,error:lt}),st={key:"phonebook",storage:nt.a,blacklist:["filter"]},bt=Object(y.a)({reducer:{phonebook:Object(tt.g)(st,it)},devTools:!1,middleware:Object(y.d)({serializableCheck:{ignoredActions:[tt.a,tt.f,tt.b,tt.c,tt.d,tt.e]}})});o.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(b.a,{store:bt},c.a.createElement($,null))),document.getElementById("root"))}},[[38,1,2]]]);
//# sourceMappingURL=main.0d17a0de.chunk.js.map